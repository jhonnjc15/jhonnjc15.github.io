---
import { Image } from 'astro:assets';
import { getRelativeLocaleUrl } from "astro:i18n";
import { getI18N } from "@i18n/index";

const { banner } = Astro.props;
const { title, button, image, content } = banner;
const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });
const aboutPath = "/about";
const buttonLabel = button.label || i18n.COMMON.contact_cta;
const badgeLabel = currentLocale === "en" ? "Featured journey" : "Recorrido destacado";
---

<section class="section banner relative overflow-hidden pb-10 pt-16 mt-14" data-animate="fade-right">
  <div class="container relative">
    <div class="grid gap-12 lg:grid-cols-2 lg:items-center">
      <div class="relative flex justify-center sm:justify-start lg:order-1" data-animate="fade-right">
        <div class="max-w-4xl space-y-7 sm:-mt-6 lg:-mt-8">
          <p class="text-sm font-semibold uppercase tracking-[0.28em] text-paqariYellow">
            {badgeLabel}
          </p>
          <h1 class="banner-title text-white text-4xl md:text-5xl font-extrabold tracking-tight leading-[1.05]">
            {title}
          </h1>
          <p class="my-4 text-lg text-white/80 max-w-2xl mx-auto sm:mx-0">
            {content}
          </p>
          {button.enable && (
            <a
              class="group relative inline-flex items-center justify-center rounded-2xl p-[2px] overflow-hidden focus:outline-none"
              href={getRelativeLocaleUrl(currentLocale ?? "", button.link || aboutPath)}
            >
              <span class="pointer-events-none absolute inset-0 rounded-2xl bg-[conic-gradient(#f3a415_20deg,transparent_120deg)] opacity-80 blur-[0.5px] animate-border-rotate"></span>
              <span class="relative z-10 inline-flex items-center justify-center rounded-[1rem] bg-white/90 px-8 py-3.5 text-base font-semibold text-gray-900 shadow-[0_12px_35px_rgba(33,114,118,0.35)] transition duration-300 group-hover:text-white group-hover:bg-gradient-to-br group-hover:from-[#217276] group-hover:to-[#f3a415]">
                {buttonLabel}
              </span>
            </a>
          )}
        </div>
      </div>
      <div class="lg:order-2" data-animate="zoom-in">
        <div class="relative mx-auto max-w-[580px] rounded-[32px] bg-gradient-to-br from-background to-background-offset p-6 shadow-2xl flex items-center justify-center">
          <Image
            class="w-full object-contain drop-shadow-2xl"
            alt="banner"
            src={image}
            width={720}
            height={470}
          />
        </div>
      </div>
    </div>
  </div>
</section>
