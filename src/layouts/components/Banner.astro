---
import { Image } from 'astro:assets';
import { getRelativeLocaleUrl } from "astro:i18n";
import { getI18N } from "@i18n/index";

const { banner } = Astro.props;
const { title, button, image, content } = banner;
const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });
---

<section class="section banner relative overflow-hidden pb-10 pt-16 mt-14" data-animate="fade-right">
  <div class="container relative">
    <div class="grid gap-10 lg:grid-cols-2 lg:items-center">
      <div class="space-y-4 lg:order-1" data-animate="fade-right">
        <h1 class="banner-title text-default text-4xl md:text-5xl font-extrabold tracking-tight leading-tight">
          {title}
        </h1>
        <p class="my-4 text-lg text-text-offset">
          {content}
        </p>
        {button.enable && (
          <a
            class="group relative inline-flex items-center justify-center overflow-hidden rounded-2xl p-[1.5px] text-base font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-paqariYellow/80 focus-visible:ring-offset-2 focus-visible:ring-offset-background"
            href={getRelativeLocaleUrl(currentLocale ?? "", button.link || "/contact")}
          >
            <span class="absolute inset-0 -z-10 rounded-2xl bg-[conic-gradient(#217276_0deg,#f3a415_120deg,#217276_240deg,#f3a415_360deg)] opacity-70 animate-rotate-sheen" />
            <span class="absolute inset-[1.5px] -z-[1] rounded-[1.25rem] bg-gradient-to-br from-white/30 via-white/10 to-white/5 blur" />
            <span
              class="relative z-10 flex items-center gap-2 rounded-[1.15rem] bg-white/90 px-7 py-3 text-gray-900 shadow-lg transition-all duration-300 group-hover:scale-[1.02] group-hover:shadow-xl dark:bg-gray-900/90 dark:text-white"
            >
              {button.label || i18n.COMMON.contact_cta}
              <svg
                aria-hidden="true"
                class="h-4 w-4 transition-transform duration-300 group-hover:translate-x-1"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                stroke-width="1.8"
              >
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14m-6-6 6 6-6 6" />
              </svg>
            </span>
          </a>
        )}
      </div>
      <div class="lg:order-2" data-animate="zoom-in">
        <div class="relative mx-auto max-w-[580px] rounded-[32px] bg-gradient-to-br from-background to-background-offset p-6 shadow-2xl flex items-center justify-center">
          <Image
            class="w-full object-contain drop-shadow-2xl"
            alt="banner"
            src={image}
            width={720}
            height={470}
          />
        </div>
      </div>
    </div>
  </div>
</section>
