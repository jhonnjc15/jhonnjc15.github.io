---
import { getEntryBySlug } from "astro:content";
import AppSection from "./AppSection.astro";

const { downloadLink, buttonLabel } = Astro.props;
const fallbackLocale = "es";
const locale = Astro.currentLocale ?? fallbackLocale;

let appEntry = await getEntryBySlug("pages", `${locale}/resources-apps/app-primary-control`);
if (!appEntry) {
  appEntry = await getEntryBySlug("pages", `${fallbackLocale}/resources-apps/app-primary-control`);
}

const app = appEntry?.data ?? {};
---

<AppSection app={app} downloadLink={downloadLink} buttonLabel={buttonLabel} />
