// navbar toggler
input#nav-toggle:checked ~ label#show-button {
  @apply hidden;
}

input#nav-toggle:checked ~ label#hide-button {
  @apply flex lg:hidden;
}

input#nav-toggle:checked ~ #nav-menu {
  @apply block lg:flex border-b dark:border-gray-600 border-primary lg:border-0 ;
}

/* HEADER BASE */
.header {
  @apply sticky top-0 z-50 bg-transparent px-5 sm:px-10 pt-0 pb-5 transition-all duration-300;
}

.topbar-container {
  @apply sticky top-0 z-[60] mb-2;
  height: 40px;
  min-height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-bottom: 1px solid var(--color-border-offset);
  background: transparent;
}

.topbar {
  @apply relative flex w-full items-center justify-between gap-3 text-[10px] font-medium;
  min-height: 40px;
  line-height: 1;
  color: var(--color-text);
}

.topbar-contact {
  @apply relative z-10 flex flex-wrap items-center gap-4 lg:gap-5;
}

.topbar-link {
  @apply inline-flex items-center gap-1 transition;
  color: var(--color-text);
}

.topbar-link:hover {
  color: var(--color-primary);
  text-shadow: 0 0 8px color-mix(in srgb, var(--color-primary) 40%, transparent);
}

.topbar-icon {
  @apply grid place-items-center rounded-sm;
  width: 11px;
  height: 11px;
  font-size: 11px;
}

.topbar-text {
  @apply whitespace-nowrap text-[10px] sm:text-[11px];
}

.topbar-social-icons {
  @apply flex items-center gap-1 text-[11px];

  a {
    @apply inline-flex items-center justify-center rounded-full transition hover:-translate-y-[1px];
    width: 22px;
    height: 22px;
    color: var(--color-text);
    background: color-mix(in srgb, var(--color-text) 8%, transparent);
    border: 1px solid color-mix(in srgb, var(--color-text) 20%, transparent);
  }

  svg {
    width: 14px;
    height: 14px;
  }
}

@media (max-width: 1023px) {
  .topbar {
    @apply justify-center gap-2;
  }

  .topbar-contact {
    @apply hidden;
  }
}

.header-sticky .topbar-container {
  display: none;
}

/* NAVBAR BASE */
.navbar {
  @apply relative flex flex-wrap items-center justify-between bg-transparent py-2 transition-colors duration-500 ease-in-out;
}

/* Estilo sticky base */
.header-sticky .navbar {
  @apply border-transparent shadow-[0_10px_35px_rgba(0,0,0,0.16)] scale-[1.01]
         bg-white/85 backdrop-blur-md dark:bg-gray-900/85;
  margin-top: 6px;
}

.header-sticky .navbar::before {
  content: "";
  position: absolute;
  inset: -2px;
  padding: 2px;
  border-radius: 16px;
  background: conic-gradient(from_0deg, #217276, #f3a415, #217276);
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask-composite: exclude;
  -webkit-mask-composite: xor;
  pointer-events: none;
  opacity: 0.9;
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.header-sticky .navbar:hover::before {
  opacity: 1;
  transform: scale(1.01);
}


/* Estilo sticky para XL (>=1280px) */
@media (min-width: 1280px) {
  /* desplazamiento de los elementos */
  .header-sticky .logo-container {
    @apply translate-x-[80%];
  }

  .header-sticky .menu-container {
    @apply -translate-x-[80%];
  }

  /* estilo visual del navbar al hacer scroll */
  .header-sticky .navbar {
    @apply shadow-[0_12px_38px_rgba(0,0,0,0.18)] scale-[1.015];
    border-radius: 9999px;
  }
}

/* Estilo sticky para 2XL (>=1536px) */
@media (min-width: 1536px) {
  .header-sticky .logo-container {
    @apply translate-x-[150%];
  }

  .header-sticky .menu-container {
    @apply -translate-x-[150%];
  }

  .header-sticky .navbar {
    @apply shadow-[0_16px_45px_rgba(0,0,0,0.2)] scale-[1.02];
  }
}

/* === PANTALLAS <= LG === */
@media (max-width: 1279px) {
  /* navbar sin scroll → transparente */
  .navbar {
    @apply bg-transparent border-transparent;
  }

  /* navbar con scroll → opaco y blur */
  .header-sticky .navbar {
    @apply bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm border-transparent shadow-[0_12px_32px_rgba(0,0,0,0.2)];
    border-radius: 18px;
  }

  /* sin movimiento */
  .logo-container,
  .menu-container {
    @apply translate-x-0;
  }
}

.navbar-brand {
  @apply text-xl font-semibold text-dark;
  image {
    @apply max-h-full max-w-full;
  }
}

.navbar-nav {
  @apply text-center lg:text-left;
}

.nav-link {
  @apply block p-3 py-2 text-[15px] text-dark transition dark:text-default dark:hover:text-primary hover:text-primary md:px-2 lg:inline-block ;

  &.active {
    @apply relative text-primary;

    &::after {
      @apply absolute bottom-0 left-2 right-2 h-0.5  bg-primary content-[''];
    }
  }
}

.nav-dropdown {
  @apply mr-0;
}

.nav-dropdown-list {
  @apply z-[80]  ml-1 my-2 rounded-lg border-0 border-solid  border-primary bg-default px-4 py-3  shadow-sm duration-300  lg:mt-0 lg:border lg:bg-white lg:shadow-[0_0.9rem_1.56rem_rgb(0,0,0,0.1)];
}

.nav-dropdown-item {
  @apply mb-0;
}

.nav-dropdown-link {
  @apply min-w-[150px] py-1 text-sm xl:text-dark font-medium transition hover:text-primary;
}

/* Cuando el chat está abierto en móviles, solidificar fondos de dropdowns/menús */
@media (max-width: 1023px) {
  body.chat-open .navbar,
  body.chat-open .nav-dropdown-list {
    @apply bg-white/95 dark:bg-gray-900/95 backdrop-blur-md;
  }

  body.chat-open .nav-dropdown-list {
    @apply border border-gray-200 shadow-md dark:border-gray-700;
  }
}
